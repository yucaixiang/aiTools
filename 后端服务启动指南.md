# åç«¯æœåŠ¡å¯åŠ¨æŒ‡å— (IntelliJ IDEA)

> ç”±äºMavenå‘½ä»¤è¡Œç¼–è¯‘é‡åˆ°ä¾èµ–é—®é¢˜,æ¨èä½¿ç”¨IntelliJ IDEAæ¥å¯åŠ¨åç«¯æœåŠ¡
> IDEAä¼šè‡ªåŠ¨å¤„ç†Lombokå’ŒValidationç­‰ä¾èµ–

---

## âœ… å·²å®Œæˆçš„å‡†å¤‡å·¥ä½œ

- âœ… DockeræœåŠ¡å·²å¯åŠ¨ (MySQL, Redis, Elasticsearch, Ollama)
- âœ… æ•°æ®åº“å·²åˆå§‹åŒ– (tool_recommendæ•°æ®åº“,12ä¸ªåˆ†ç±»)
- âœ… å‰ç«¯ä¾èµ–å·²å®‰è£…

---

## ğŸš€ ä½¿ç”¨IDEAå¯åŠ¨åç«¯æœåŠ¡

### æ­¥éª¤ 1: æ‰“å¼€é¡¹ç›®

1. å¯åŠ¨IntelliJ IDEA
2. é€‰æ‹© **File â†’ Open**
3. å¯¼èˆªåˆ°: `/Users/bjsttlp324/Desktop/tools/backend`
4. ç‚¹å‡» **Open**
5. é€‰æ‹© **Open as Project**

### æ­¥éª¤ 2: ç­‰å¾…Mavenå¯¼å…¥

- IDEAä¼šè‡ªåŠ¨å¼€å§‹å¯¼å…¥Mavené¡¹ç›®
- å³ä¸‹è§’ä¼šæ˜¾ç¤ºè¿›åº¦æ¡: "Importing Maven projects..."
- **è¯·è€å¿ƒç­‰å¾…** (é¦–æ¬¡å¯¼å…¥å¯èƒ½éœ€è¦5-10åˆ†é’Ÿ,éœ€è¦ä¸‹è½½æ‰€æœ‰ä¾èµ–)
- å¯¼å…¥å®Œæˆå,é¡¹ç›®ç»“æ„ä¼šæ˜¾ç¤ºåœ¨å·¦ä¾§

### æ­¥éª¤ 3: é…ç½®JDK (å¦‚æœéœ€è¦)

1. **File â†’ Project Structure** (æˆ–æŒ‰ Cmd+;)
2. **Project** æ ‡ç­¾é¡µ
3. **SDK** é€‰æ‹© **17** æˆ–æ›´é«˜ç‰ˆæœ¬
4. å¦‚æœæ²¡æœ‰JDK 17,ç‚¹å‡» **Add SDK â†’ Download JDK**,é€‰æ‹©ç‰ˆæœ¬17
5. ç‚¹å‡» **OK**

### æ­¥éª¤ 4: å¯åŠ¨æœåŠ¡ (æŒ‰é¡ºåº)

#### 1. Tool Service (å·¥å…·æœåŠ¡) - ç«¯å£8081

```
tool-service/src/main/java/com/toolrecommend/tool/ToolServiceApplication.java
```

- åœ¨é¡¹ç›®æ ‘ä¸­æ‰¾åˆ°è¿™ä¸ªæ–‡ä»¶
- å³é”®ç‚¹å‡»æ–‡ä»¶
- é€‰æ‹© **Run 'ToolServiceApplication.main()'**
- ç­‰å¾…æ§åˆ¶å°æ˜¾ç¤º: `Started ToolServiceApplication in X.XXX seconds`

âœ… **éªŒè¯**: æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:8081/actuator/health

#### 2. User Service (ç”¨æˆ·æœåŠ¡) - ç«¯å£8082

```
user-service/src/main/java/com/toolrecommend/user/UserServiceApplication.java
```

- å³é”® â†’ Run
- ç­‰å¾…å¯åŠ¨å®Œæˆ

âœ… **éªŒè¯**: http://localhost:8082/actuator/health

#### 3. AI Service (AIæœåŠ¡) - ç«¯å£8083

```
ai-service/src/main/java/com/toolrecommend/ai/AiServiceApplication.java
```

- å³é”® â†’ Run
- ç­‰å¾…å¯åŠ¨å®Œæˆ

âœ… **éªŒè¯**: http://localhost:8083/actuator/health

#### 4. Review Service (è¯„è®ºæœåŠ¡) - ç«¯å£8084

```
review-service/src/main/java/com/toolrecommend/review/ReviewServiceApplication.java
```

- å³é”® â†’ Run
- ç­‰å¾…å¯åŠ¨å®Œæˆ

âœ… **éªŒè¯**: http://localhost:8084/actuator/health

#### 5. Admin Service (ç®¡ç†æœåŠ¡) - ç«¯å£8085

```
admin-service/src/main/java/com/toolrecommend/admin/AdminServiceApplication.java
```

- å³é”® â†’ Run
- ç­‰å¾…å¯åŠ¨å®Œæˆ

âœ… **éªŒè¯**: http://localhost:8085/actuator/health

#### 6. Gateway Service (ç½‘å…³æœåŠ¡) - ç«¯å£8080 âš ï¸ **æœ€åå¯åŠ¨**

```
gateway-service/src/main/java/com/toolrecommend/gateway/GatewayServiceApplication.java
```

- **å¿…é¡»æœ€åå¯åŠ¨** (éœ€è¦å…¶ä»–æœåŠ¡éƒ½å·²å¯åŠ¨)
- å³é”® â†’ Run
- ç­‰å¾…å¯åŠ¨å®Œæˆ

âœ… **éªŒè¯**: http://localhost:8080/actuator/health

---

## ğŸ” å¯åŠ¨åéªŒè¯

### æ£€æŸ¥æ‰€æœ‰æœåŠ¡

åœ¨ç»ˆç«¯æ‰§è¡Œ:

```bash
# æ£€æŸ¥Gateway (æœ€é‡è¦)
curl http://localhost:8080/actuator/health

# æ£€æŸ¥Tool Service
curl http://localhost:8081/actuator/health

# æ£€æŸ¥User Service
curl http://localhost:8082/actuator/health

# æ£€æŸ¥AI Service
curl http://localhost:8083/actuator/health

# æ£€æŸ¥Review Service
curl http://localhost:8084/actuator/health

# æ£€æŸ¥Admin Service
curl http://localhost:8085/actuator/health
```

æ‰€æœ‰æœåŠ¡åº”è¿”å›: `{"status":"UP"}`

### æµ‹è¯•API

```bash
# æµ‹è¯•æŸ¥è¯¢åˆ†ç±»
curl http://localhost:8080/api/tools/categories

# æµ‹è¯•ç”¨æˆ·æ³¨å†Œ
curl -X POST http://localhost:8080/api/users/register \
  -H "Content-Type: application/json" \
  -d '{
    "username": "testuser",
    "email": "test@example.com",
    "password": "Test123456",
    "nickname": "æµ‹è¯•ç”¨æˆ·"
  }'
```

---

## âš ï¸ å¸¸è§é—®é¢˜

### é—®é¢˜1: ç«¯å£è¢«å ç”¨

**é”™è¯¯**: `Port 8081 was already in use`

**è§£å†³**:
```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -i:8081

# æ€æ­»è¿›ç¨‹ (æ›¿æ¢ <PID> ä¸ºå®é™…è¿›ç¨‹ID)
kill -9 <PID>

# æˆ–è€…,ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ç«¯å£
```

### é—®é¢˜2: æ— æ³•è¿æ¥MySQL

**é”™è¯¯**: `Communications link failure`

**è§£å†³**:
```bash
# 1. æ£€æŸ¥MySQLå®¹å™¨æ˜¯å¦è¿è¡Œ
docker ps | grep mysql

# 2. æµ‹è¯•MySQLè¿æ¥
docker exec -it tool-recommend-mysql mysql -uroot -proot123456

# 3. å¦‚æœMySQLæœªè¿è¡Œ,å¯åŠ¨å®ƒ
cd deployment
docker-compose up -d mysql
```

### é—®é¢˜3: Mavenä¾èµ–ä¸‹è½½å¤±è´¥

**é”™è¯¯**: `Could not resolve dependencies`

**è§£å†³**:
1. **IDEA**: File â†’ Settings â†’ Build, Execution, Deployment â†’ Build Tools â†’ Maven
2. æ£€æŸ¥ **Maven home path** æ˜¯å¦æ­£ç¡®
3. ç‚¹å‡» **Reload All Maven Projects** æŒ‰é’® (åœ¨Mavenå·¥å…·çª—å£)
4. å¦‚æœè¿˜æ˜¯å¤±è´¥,é…ç½®Mavené•œåƒ:

ç¼–è¾‘ `~/.m2/settings.xml`:
```xml
<mirrors>
  <mirror>
    <id>aliyun</id>
    <mirrorOf>*</mirrorOf>
    <url>https://maven.aliyun.com/repository/public</url>
  </mirror>
</mirrors>
```

### é—®é¢˜4: Lombokä¸ç”Ÿæ•ˆ

**é”™è¯¯**: `Cannot find symbol: method setXxx()`

**è§£å†³**:
1. **IDEA**: File â†’ Settings â†’ Plugins
2. æœç´¢ **Lombok**
3. å®‰è£…å¹¶å¯ç”¨Lombokæ’ä»¶
4. é‡å¯IDEA
5. **File â†’ Settings â†’ Build, Execution, Deployment â†’ Compiler â†’ Annotation Processors**
6. å‹¾é€‰ **Enable annotation processing**

---

## ğŸ“Š æœåŠ¡ç«¯å£ä¸€è§ˆ

| æœåŠ¡åç§° | ç«¯å£ | è¯´æ˜ | å¿…é¡»å¯åŠ¨ |
|---------|------|------|---------|
| Gateway Service | 8080 | APIç½‘å…³,ç»Ÿä¸€å…¥å£ | âœ… æ˜¯ |
| Tool Service | 8081 | å·¥å…·ç®¡ç†æœåŠ¡ | âœ… æ˜¯ |
| User Service | 8082 | ç”¨æˆ·è®¤è¯æœåŠ¡ | âœ… æ˜¯ |
| AI Service | 8083 | AIæ¨èæœåŠ¡ | âœ… æ˜¯ |
| Review Service | 8084 | è¯„è®ºæœåŠ¡ | âœ… æ˜¯ |
| Admin Service | 8085 | ç®¡ç†åå°æœåŠ¡ | å¯é€‰ |

---

## ğŸ’¡ æç¤º

### IDEAå¿«æ·å¯åŠ¨

1. ç¬¬ä¸€æ¬¡å¯åŠ¨å,IDEAä¼šè®°ä½é…ç½®
2. ä¸‹æ¬¡å¯ä»¥ç›´æ¥åœ¨é¡¶éƒ¨å·¥å…·æ é€‰æ‹©æœåŠ¡å¹¶ç‚¹å‡»è¿è¡ŒæŒ‰é’® â–¶ï¸
3. æˆ–ä½¿ç”¨å¿«æ·é”®: **Ctrl+R** (Run) / **Ctrl+D** (Debug)

### æŸ¥çœ‹æ—¥å¿—

- æ¯ä¸ªæœåŠ¡çš„æ§åˆ¶å°è¾“å‡ºä¼šæ˜¾ç¤ºåœ¨IDEAåº•éƒ¨çš„ **Run** çª—å£
- å¯ä»¥ç‚¹å‡»æ ‡ç­¾é¡µåˆ‡æ¢ä¸åŒæœåŠ¡çš„æ—¥å¿—
- æ—¥å¿—æ–‡ä»¶ä¿å­˜åœ¨: `backend/*/logs/`

### åœæ­¢æœåŠ¡

- ç‚¹å‡»IDEAåº•éƒ¨Runçª—å£çš„ **Stop** æŒ‰é’® â¹ï¸
- æˆ–ä½¿ç”¨å¿«æ·é”®: **Cmd+F2** (macOS) / **Ctrl+F2** (Windows/Linux)

---

## ğŸ¯ å¯åŠ¨æˆåŠŸæ ‡å¿—

å½“æ‰€æœ‰æœåŠ¡å¯åŠ¨æˆåŠŸå,æ‚¨åº”è¯¥çœ‹åˆ°:

### IDEA Runçª—å£
- 6ä¸ªæ ‡ç­¾é¡µ (å¯¹åº”6ä¸ªæœåŠ¡)
- æ¯ä¸ªéƒ½æ˜¾ç¤º `Started *ServiceApplication in X.XXX seconds`
- æ²¡æœ‰çº¢è‰²é”™è¯¯ä¿¡æ¯

### ç»ˆç«¯éªŒè¯
```bash
curl http://localhost:8080/actuator/health
# è¿”å›: {"status":"UP"}
```

### è®¿é—®API
```bash
curl http://localhost:8080/api/tools/categories
# è¿”å›: JSONæ•°ç»„,åŒ…å«12ä¸ªåˆ†ç±»
```

---

## ğŸ“ éœ€è¦å¸®åŠ©?

å¦‚æœé‡åˆ°é—®é¢˜:

1. **æŸ¥çœ‹é”™è¯¯æ—¥å¿—** - IDEAæ§åˆ¶å°ä¼šæ˜¾ç¤ºè¯¦ç»†é”™è¯¯ä¿¡æ¯
2. **æ£€æŸ¥æ•°æ®åº“** - ç¡®ä¿MySQLå®¹å™¨æ­£å¸¸è¿è¡Œ
3. **æ£€æŸ¥ç«¯å£** - ç¡®ä¿æ²¡æœ‰ç«¯å£å†²çª
4. **é‡æ–°å¯¼å…¥Maven** - å³é”®pom.xml â†’ Maven â†’ Reload Project

**ç¥å¯åŠ¨æˆåŠŸ! ğŸ‰**

---

**ä¸‹ä¸€æ­¥**: å¯åŠ¨å‰ç«¯æœåŠ¡,å‚è§ `frontend/uniapp/README.md`
