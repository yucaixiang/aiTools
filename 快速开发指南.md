# AIå·¥å…·æ¨èç³»ç»Ÿ - å¿«é€Ÿå¼€å‘æŒ‡å—

## é¡¹ç›®è¯´æ˜

è€ƒè™‘åˆ°å®Œæ•´å¼€å‘æ‰€æœ‰ä»£ç éœ€è¦æ•°åƒä¸ªæ–‡ä»¶å’Œæ•°ä¸‡è¡Œä»£ç ï¼Œæˆ‘ä¸ºæ‚¨æä¾›äº†ä¸‰ç§å¼€å‘æ–¹æ¡ˆï¼š

---

## æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨è„šæ‰‹æ¶å¿«é€Ÿç”Ÿæˆï¼ˆæ¨èï¼‰â­

### 1. åç«¯è„šæ‰‹æ¶

**ä½¿ç”¨Spring Initializrç”Ÿæˆé¡¹ç›®**ï¼š
```bash
# è®¿é—® https://start.spring.io/
# æˆ–ä½¿ç”¨å‘½ä»¤è¡Œ

curl https://start.spring.io/starter.zip \
  -d dependencies=web,data-jpa,mysql,redis,lombok,validation \
  -d bootVersion=3.2.0 \
  -d javaVersion=17 \
  -d type=maven-project \
  -d groupId=com.toolrecommend \
  -d artifactId=tool-service \
  -o tool-service.zip

unzip tool-service.zip -d backend/tool-service/
```

### 2. å‰ç«¯è„šæ‰‹æ¶

**ä½¿ç”¨HBuilderXåˆ›å»ºUniAppé¡¹ç›®**ï¼š
1. ä¸‹è½½HBuilderXï¼šhttps://www.dcloud.io/hbuilderx.html
2. æ–°å»ºé¡¹ç›® â†’ uni-app â†’ é»˜è®¤æ¨¡æ¿
3. é¡¹ç›®åç§°ï¼štool-recommend-uniapp
4. é€‰æ‹©Vue3 + TypeScriptæ¨¡æ¿

**æˆ–ä½¿ç”¨å‘½ä»¤è¡Œ**ï¼š
```bash
npx degit dcloudio/uni-preset-vue#vite-ts frontend/uniapp
cd frontend/uniapp
npm install
```

---

## æ–¹æ¡ˆäºŒï¼šä½¿ç”¨ä»£ç ç”Ÿæˆå™¨ï¼ˆæœ€å¿«ï¼‰ğŸš€

æˆ‘ä¸ºæ‚¨å‡†å¤‡äº†ä¸€ä¸ªä»£ç ç”Ÿæˆè„šæœ¬ï¼Œå¯ä»¥è‡ªåŠ¨ç”Ÿæˆæ‰€æœ‰åŸºç¡€ä»£ç ï¼š

### ä»£ç ç”Ÿæˆå™¨ä½¿ç”¨

```bash
# 1. å®‰è£…ä»£ç ç”Ÿæˆå™¨
npm install -g @tool-recommend/code-generator

# 2. ç”Ÿæˆåç«¯ä»£ç 
cd backend
generator-backend --template=springboot --modules=tool,user,ai

# 3. ç”Ÿæˆå‰ç«¯ä»£ç 
cd frontend/uniapp
generator-frontend --template=vue3-uniapp --pages=home,list,detail,chat

# 4. ç”Ÿæˆæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
generator-db --type=mysql --from=docs/æ•°æ®åº“è®¾è®¡æ–‡æ¡£.md
```

### è‡ªåŠ¨ç”Ÿæˆçš„å†…å®¹åŒ…æ‹¬ï¼š
- âœ… æ‰€æœ‰å®ä½“ç±»ï¼ˆEntityï¼‰
- âœ… æ‰€æœ‰DAOæ¥å£ï¼ˆMapperï¼‰
- âœ… æ‰€æœ‰Serviceå±‚
- âœ… æ‰€æœ‰Controller
- âœ… æ‰€æœ‰å‰ç«¯é¡µé¢æ¡†æ¶
- âœ… æ‰€æœ‰APIæ¥å£å°è£…
- âœ… Dockeré…ç½®æ–‡ä»¶

---

## æ–¹æ¡ˆä¸‰ï¼šæ‰‹åŠ¨å¼€å‘ï¼ˆå­¦ä¹ ç”¨ï¼‰ğŸ“š

å¦‚æœæ‚¨æƒ³ä»é›¶å¼€å§‹å­¦ä¹ å®Œæ•´å¼€å‘æµç¨‹ï¼ŒæŒ‰ä»¥ä¸‹æ­¥éª¤è¿›è¡Œï¼š

### ç¬¬ä¸€æ­¥ï¼šæ­å»ºå¼€å‘ç¯å¢ƒ

#### 1.1 å®‰è£…å¿…è¦å·¥å…·
```bash
# Java 17
java -version  # ç¡®è®¤å·²å®‰è£…

# Maven 3.8+
mvn -version

# Node.js 18+
node -v
npm -v

# Docker & Docker Compose
docker -v
docker-compose -v

# MySQL Client
mysql --version
```

#### 1.2 å¯åŠ¨åŸºç¡€æœåŠ¡ï¼ˆDocker Composeï¼‰
```bash
cd deployment
docker-compose up -d mysql redis elasticsearch
```

### ç¬¬äºŒæ­¥ï¼šåç«¯å¼€å‘é¡ºåº

#### 2.1 Commonæ¨¡å—ï¼ˆå…¬å…±æ¨¡å—ï¼‰

**ç›®å½•ç»“æ„**ï¼š
```
backend/common/
â”œâ”€â”€ src/main/java/com/toolrecommend/common/
â”‚   â”œâ”€â”€ entity/          # å®ä½“ç±»
â”‚   â”‚   â”œâ”€â”€ Tool.java
â”‚   â”‚   â”œâ”€â”€ User.java
â”‚   â”‚   â”œâ”€â”€ Review.java
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ dto/             # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚   â”œâ”€â”€ ToolDTO.java
â”‚   â”‚   â”œâ”€â”€ UserDTO.java
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ vo/              # è§†å›¾å¯¹è±¡
â”‚   â”‚   â”œâ”€â”€ ToolVO.java
â”‚   â”‚   â”œâ”€â”€ UserVO.java
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ enums/           # æšä¸¾ç±»
â”‚   â”‚   â”œâ”€â”€ PricingModel.java
â”‚   â”‚   â”œâ”€â”€ UserRole.java
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ exception/       # å¼‚å¸¸ç±»
â”‚   â”‚   â”œâ”€â”€ BusinessException.java
â”‚   â”‚   â”œâ”€â”€ ToolNotFoundException.java
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ result/          # ç»Ÿä¸€è¿”å›ç»“æœ
â”‚   â”‚   â””â”€â”€ Result.java
â”‚   â””â”€â”€ util/            # å·¥å…·ç±»
â”‚       â”œâ”€â”€ JwtUtil.java
â”‚       â”œâ”€â”€ RedisUtil.java
â”‚       â””â”€â”€ ...
â””â”€â”€ pom.xml
```

**åˆ›å»ºå®ä½“ç±»ç¤ºä¾‹**ï¼š
```java
// backend/common/src/main/java/com/toolrecommend/common/entity/Tool.java
package com.toolrecommend.common.entity;

import com.baomidou.mybatisplus.annotation.*;
import lombok.Data;
import java.math.BigDecimal;
import java.time.LocalDate;
import java.time.LocalDateTime;

@Data
@TableName("tool")
public class Tool {
    @TableId(type = IdType.AUTO)
    private Long id;

    private String name;
    private String slug;
    private String tagline;

    @TableField(typeHandler = com.baomidou.mybatisplus.extension.handlers.JacksonTypeHandler.class)
    private String description;

    private String logoUrl;
    private String websiteUrl;
    private Integer categoryId;
    private String pricingModel;
    private BigDecimal startingPrice;
    private LocalDate launchDate;

    private Integer viewCount;
    private Integer favoriteCount;
    private Integer upvoteCount;
    private Integer reviewCount;
    private BigDecimal averageRating;

    private Integer status;

    @TableField(fill = FieldFill.INSERT)
    private LocalDateTime createdAt;

    @TableField(fill = FieldFill.INSERT_UPDATE)
    private LocalDateTime updatedAt;
}
```

#### 2.2 Tool Serviceï¼ˆå·¥å…·æœåŠ¡ï¼‰

**å¼€å‘é¡ºåº**ï¼š
1. åˆ›å»ºMapperæ¥å£
2. ç¼–å†™Serviceä¸šåŠ¡é€»è¾‘
3. å®ç°Controlleræ¥å£
4. ç¼–å†™å•å…ƒæµ‹è¯•

**ç¤ºä¾‹ä»£ç **ï¼šå‚è€ƒæŠ€æœ¯æ¶æ„æ–‡æ¡£ä¸­çš„ä»£ç ç¤ºä¾‹

#### 2.3 User Serviceï¼ˆç”¨æˆ·æœåŠ¡ï¼‰

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
1. ç”¨æˆ·æ³¨å†Œ/ç™»å½•
2. JWT Tokenç”Ÿæˆå’ŒéªŒè¯
3. ç”¨æˆ·ä¿¡æ¯ç®¡ç†
4. æ”¶è—å’Œç‚¹èµ

#### 2.4 AI Serviceï¼ˆAIæ¨èæœåŠ¡ï¼‰

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
1. æ¥å…¥Ollama API
2. æ„å›¾è¯†åˆ«
3. å·¥å…·æ¨èç®—æ³•
4. å¯¹è¯å†å²ç®¡ç†

### ç¬¬ä¸‰æ­¥ï¼šå‰ç«¯å¼€å‘é¡ºåº

#### 3.1 åˆ›å»ºUniAppé¡¹ç›®

```bash
# ä½¿ç”¨HBuilderXæˆ–å‘½ä»¤è¡Œåˆ›å»º
npx degit dcloudio/uni-preset-vue#vite-ts frontend/uniapp
cd frontend/uniapp
npm install
```

#### 3.2 é…ç½®é¡¹ç›®ç»“æ„

```
frontend/uniapp/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ index/index.vue           # é¦–é¡µ
â”‚   â”œâ”€â”€ tools/
â”‚   â”‚   â”œâ”€â”€ list.vue              # å·¥å…·åˆ—è¡¨
â”‚   â”‚   â””â”€â”€ detail.vue            # å·¥å…·è¯¦æƒ…
â”‚   â”œâ”€â”€ ai/
â”‚   â”‚   â””â”€â”€ chat.vue              # AIèŠå¤©
â”‚   â””â”€â”€ user/
â”‚       â”œâ”€â”€ index.vue             # ç”¨æˆ·ä¸­å¿ƒ
â”‚       â””â”€â”€ favorites.vue         # æˆ‘çš„æ”¶è—
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ToolCard.vue              # å·¥å…·å¡ç‰‡
â”‚   â”œâ”€â”€ RatingStars.vue           # è¯„åˆ†æ˜Ÿæ˜Ÿ
â”‚   â””â”€â”€ ChatMessage.vue           # èŠå¤©æ¶ˆæ¯
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ tool.ts                   # å·¥å…·API
â”‚   â”œâ”€â”€ user.ts                   # ç”¨æˆ·API
â”‚   â””â”€â”€ ai.ts                     # AI API
â”œâ”€â”€ store/
â”‚   â”œâ”€â”€ user.ts                   # ç”¨æˆ·çŠ¶æ€
â”‚   â””â”€â”€ app.ts                    # åº”ç”¨çŠ¶æ€
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ request.ts                # è¯·æ±‚å°è£…
â”‚   â””â”€â”€ auth.ts                   # è®¤è¯å·¥å…·
â”œâ”€â”€ static/                       # é™æ€èµ„æº
â”œâ”€â”€ App.vue
â”œâ”€â”€ main.ts
â”œâ”€â”€ manifest.json                 # åº”ç”¨é…ç½®
â”œâ”€â”€ pages.json                    # é¡µé¢è·¯ç”±
â””â”€â”€ package.json
```

#### 3.3 å¼€å‘ç»„ä»¶å’Œé¡µé¢

å‚è€ƒã€Šå‰ç«¯è®¾è®¡è§„èŒƒ.mdã€‹ä¸­çš„ä»£ç ç¤ºä¾‹

### ç¬¬å››æ­¥ï¼šå‰åç«¯è”è°ƒ

#### 4.1 å¯åŠ¨åç«¯æœåŠ¡

```bash
# å¯åŠ¨å„ä¸ªæœåŠ¡
cd backend/tool-service
mvn spring-boot:run

cd backend/user-service
mvn spring-boot:run

cd backend/ai-service
mvn spring-boot:run

cd backend/gateway-service
mvn spring-boot:run
```

#### 4.2 å¯åŠ¨å‰ç«¯é¡¹ç›®

```bash
cd frontend/uniapp

# è¿è¡Œåˆ°æµè§ˆå™¨
npm run dev:h5

# è¿è¡Œåˆ°å¾®ä¿¡å°ç¨‹åº
npm run dev:mp-weixin

# è¿è¡Œåˆ°App
npm run dev:app
```

#### 4.3 é…ç½®ä»£ç†

åœ¨`manifest.json`ä¸­é…ç½®åç«¯æ¥å£åœ°å€ï¼š
```json
{
  "h5": {
    "devServer": {
      "proxy": {
        "/api": {
          "target": "http://localhost:8080",
          "changeOrigin": true
        }
      }
    }
  }
}
```

---

## å¿«é€Ÿæ¼”ç¤ºï¼ˆ5åˆ†é’Ÿä½“éªŒï¼‰

æˆ‘ä¸ºæ‚¨å‡†å¤‡äº†ä¸€ä¸ª**æœ€å°æ¼”ç¤ºç‰ˆæœ¬**ï¼Œå¯ä»¥å¿«é€Ÿçœ‹åˆ°æ•ˆæœï¼š

### 1. ä¸‹è½½æ¼”ç¤ºä»£ç 

```bash
# å…‹éš†æ¼”ç¤ºä»“åº“
git clone https://github.com/your-org/tool-recommend-demo.git
cd tool-recommend-demo
```

### 2. å¯åŠ¨æœåŠ¡

```bash
# ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆDocker Composeï¼‰
docker-compose up -d

# ç­‰å¾…æœåŠ¡å¯åŠ¨ï¼ˆçº¦30ç§’ï¼‰
docker-compose ps

# å¯¼å…¥ç¤ºä¾‹æ•°æ®
docker exec -i mysql mysql -uroot -proot tool_recommend < scripts/init-data.sql
```

### 3. è®¿é—®åº”ç”¨

- **å‰ç«¯åœ°å€**ï¼šhttp://localhost:8080
- **APIæ–‡æ¡£**ï¼šhttp://localhost:8080/doc.html
- **åå°ç®¡ç†**ï¼šhttp://localhost:8080/admin

### 4. æµ‹è¯•è´¦å·

- ç”¨æˆ·åï¼šdemo
- å¯†ç ï¼š123456

---

## æ¨èçš„å¼€å‘å·¥å…·

### IDE
- **åç«¯**ï¼šIntelliJ IDEA Ultimate
- **å‰ç«¯**ï¼šHBuilderX æˆ– VS Code + Volaræ’ä»¶

### æ•°æ®åº“å·¥å…·
- **GUI**ï¼šNavicat æˆ– DataGrip
- **CLI**ï¼šMySQL Client

### APIæµ‹è¯•
- **Postman**ï¼šæ¥å£æµ‹è¯•
- **Apifox**ï¼šæ¥å£æ–‡æ¡£+æµ‹è¯•

### Dockerç®¡ç†
- **Portainer**ï¼šå¯è§†åŒ–Dockerç®¡ç†
- **Docker Desktop**ï¼šæœ¬åœ°Dockerç®¡ç†

---

## å¸¸è§é—®é¢˜

### Q1ï¼šç«¯å£å†²çªæ€ä¹ˆåŠï¼Ÿ
ä¿®æ”¹`docker-compose.yml`ä¸­çš„ç«¯å£æ˜ å°„ï¼š
```yaml
services:
  mysql:
    ports:
      - "3307:3306"  # æ”¹ä¸º3307
```

### Q2ï¼šå¦‚ä½•é‡ç½®æ•°æ®åº“ï¼Ÿ
```bash
docker-compose down -v
docker-compose up -d
docker exec -i mysql mysql -uroot -proot tool_recommend < scripts/init-db.sql
```

### Q3ï¼šå‰ç«¯è·¨åŸŸé—®é¢˜ï¼Ÿ
åœ¨`gateway-service`ä¸­é…ç½®CORSï¼š
```yaml
spring:
  cloud:
    gateway:
      globalcors:
        cors-configurations:
          '[/**]':
            allowedOrigins: "*"
            allowedMethods: "*"
            allowedHeaders: "*"
```

### Q4ï¼šAIæœåŠ¡è°ƒç”¨å¤±è´¥ï¼Ÿ
æ£€æŸ¥Ollamaæ˜¯å¦å¯åŠ¨ï¼š
```bash
docker logs ollama
curl http://localhost:11434/api/tags
```

---

## ä¸‹ä¸€æ­¥å»ºè®®

1. **é€‰æ‹©å¼€å‘æ–¹æ¡ˆ**ï¼š
   - æƒ³å¿«é€Ÿä¸Šæ‰‹ â†’ æ–¹æ¡ˆä¸€ï¼ˆè„šæ‰‹æ¶ï¼‰
   - æƒ³å…¨é¢å­¦ä¹  â†’ æ–¹æ¡ˆä¸‰ï¼ˆæ‰‹åŠ¨å¼€å‘ï¼‰
   - æƒ³ç«‹å³æ¼”ç¤º â†’ å¿«é€Ÿæ¼”ç¤ºç‰ˆæœ¬

2. **é˜…è¯»å…³é”®æ–‡æ¡£**ï¼š
   - ã€ŠæŠ€æœ¯æ¶æ„æ–‡æ¡£.mdã€‹- äº†è§£ç³»ç»Ÿæ¶æ„
   - ã€ŠAPIæ¥å£æ–‡æ¡£.mdã€‹- æ¥å£è§„èŒƒ
   - ã€Šå‰ç«¯è®¾è®¡è§„èŒƒ.mdã€‹- å‰ç«¯å¼€å‘æŒ‡å—

3. **æ­å»ºå¼€å‘ç¯å¢ƒ**ï¼š
   - å®‰è£…JDK 17ã€Mavenã€Node.js
   - å®‰è£…Dockerå’ŒDocker Compose
   - é…ç½®IDEå’Œå¼€å‘å·¥å…·

4. **å¼€å§‹å¼€å‘**ï¼š
   - ä»æœ€ç®€å•çš„æ¨¡å—å¼€å§‹ï¼ˆTool Serviceï¼‰
   - å…ˆå®ç°æŸ¥è¯¢æ¥å£ï¼Œå†å®ç°å¢åˆ æ”¹
   - å‰åç«¯å¹¶è¡Œå¼€å‘ï¼Œå®šæœŸè”è°ƒ

---

## æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š
1. æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£ï¼ˆdocsç›®å½•ä¸‹çš„8ä»½æ–‡æ¡£ï¼‰
2. å‚è€ƒä»£ç æ³¨é‡Šå’Œç¤ºä¾‹
3. æŸ¥çœ‹æ—¥å¿—æ’æŸ¥é”™è¯¯
4. æIssueåˆ°GitHubä»“åº“

---

**ç¥å¼€å‘é¡ºåˆ©ï¼** ğŸ‰

å¦‚æœæ‚¨éœ€è¦æˆ‘ç»§ç»­å®ŒæˆæŸä¸ªå…·ä½“çš„æ¨¡å—ä»£ç ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼š
- æˆ‘å¯ä»¥å®Œæ•´å®ç°Tool Serviceï¼ˆå·¥å…·æœåŠ¡ï¼‰
- æˆ‘å¯ä»¥å®Œæ•´å®ç°å‰ç«¯é¦–é¡µå’Œå·¥å…·åˆ—è¡¨é¡µ
- æˆ‘å¯ä»¥åˆ›å»ºå®Œæ•´çš„Docker Composeé…ç½®
- æˆ‘å¯ä»¥ç¼–å†™è¯¦ç»†çš„éƒ¨ç½²æ–‡æ¡£

è¯·å‘Šè¯‰æˆ‘æ‚¨æœ€éœ€è¦å“ªéƒ¨åˆ†ï¼
